// ä¿®å¤scheduled.jsçš„è§£æé€»è¾‘ - åŸºäºä¹‹å‰æˆåŠŸçš„æ–¹æ³•\nasync function fixScheduledParsing() {\n    console.log('ğŸ”§ ä¿®å¤scheduled.jsçš„è§£æé€»è¾‘');\n    console.log('åŸºäºä¹‹å‰æˆåŠŸçš„è§£ææµç¨‹');\n    console.log('=' .repeat(50));\n    \n    try {\n        const today = new Date();\n        const dateStr = today.toISOString().split('T')[0];\n        const monthNames = ['january', 'february', 'march', 'april', 'may', 'june',\n                           'july', 'august', 'september', 'october', 'november', 'december'];\n        const monthName = monthNames[today.getMonth()];\n        const day = today.getDate();\n        const year = today.getFullYear();\n        \n        // 1. æ„é€ ç±»ä¼¼çš„Mashable URL\n        const url = `https://mashable.com/article/nyt-connections-hint-answer-today-${monthName}-${day}-${year}`;\n        console.log('ğŸŒ ç›®æ ‡URL:', url);\n        \n        // è·å–HTMLå†…å®¹\n        const response = await fetch(url, {\n            headers: {\n                'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36'\n            },\n            signal: AbortSignal.timeout(15000)\n        });\n        \n        const html = await response.text();\n        console.log(`âœ… è·å–HTML: ${html.length} å­—ç¬¦`);\n        \n        // ä½¿ç”¨æˆåŠŸçš„è§£æé€»è¾‘\n        const result = parseWithSuccessfulMethod(html, dateStr);\n        \n        if (result && result.groups && result.groups.length === 4) {\n            console.log('ğŸ‰ æˆåŠŸè§£æ!');\n            console.log('\\nğŸ“Š è§£æç»“æœ:');\n            console.log('æ—¥æœŸ:', result.date);\n            console.log('æ•°æ®æº:', result.source);\n            console.log('å•è¯æ•°é‡:', result.words.length);\n            console.log('åˆ†ç»„æ•°é‡:', result.groups.length);\n            \n            console.log('\\nğŸ¯ ä»Šå¤©çš„æ­£ç¡®ç­”æ¡ˆ:');\n            result.groups.forEach((group, i) => {\n                const emoji = {\n                    'yellow': 'ğŸŸ¡',\n                    'green': 'ğŸŸ¢',\n                    'blue': 'ğŸ”µ',\n                    'purple': 'ğŸŸ£'\n                }[group.difficulty] || 'âšª';\n                \n                console.log(`  ${emoji} ${group.theme}`);\n                console.log(`     ${group.words.join(', ')}`);\n            });\n            \n            return result;\n            \n        } else {\n            console.log('âŒ è§£æå¤±è´¥');\n            return null;\n        }\n        \n    } catch (error) {\n        console.error('âŒ ä¿®å¤æµ‹è¯•å¤±è´¥:', error);\n        return null;\n    }\n}\n\n// åŸºäºæˆåŠŸæ–¹æ³•çš„è§£æå‡½æ•°\nfunction parseWithSuccessfulMethod(html, dateStr) {\n    try {\n        console.log('\\nğŸ” æ­¥éª¤1: æŸ¥æ‰¾æç¤ºåŒºåŸŸ...');\n        \n        // 2. æŸ¥æ‰¾æç¤ºåŒºåŸŸï¼šToday's connections fall into the following categories:\n        const hintSectionPattern = /Today's connections fall into the following categories:([\\s\\S]*?)(?=What is the answer to Connections today|$)/i;\n        const hintSectionMatch = html.match(hintSectionPattern);\n        \n        if (!hintSectionMatch) {\n            console.log('âŒ æœªæ‰¾åˆ°æç¤ºåŒºåŸŸ');\n            return null;\n        }\n        \n        const hintSection = hintSectionMatch[1];\n        console.log('âœ… æ‰¾åˆ°æç¤ºåŒºåŸŸ');\n        console.log('æç¤ºåŒºåŸŸå†…å®¹ (å‰200å­—ç¬¦):', hintSection.substring(0, 200));\n        \n        // 3. æå–4ä¸ªåˆ†ç»„åç§°ï¼ˆYellow, Green, Blue, Purpleï¼‰\n        console.log('\\nğŸ” æ­¥éª¤2: æå–åˆ†ç»„åç§°...');\n        \n        const colorHints = {};\n        const colorPatterns = [\n            /Yellow[^:]*:([^\\n]*)/i,\n            /Green[^:]*:([^\\n]*)/i,\n            /Blue[^:]*:([^\\n]*)/i,\n            /Purple[^:]*:([^\\n]*)/i\n        ];\n        \n        const colors = ['Yellow', 'Green', 'Blue', 'Purple'];\n        \n        colors.forEach((color, i) => {\n            const match = hintSection.match(colorPatterns[i]);\n            if (match) {\n                const hint = match[1].trim().replace(/<[^>]*>/g, '').replace(/[\"']/g, '');\n                colorHints[color] = hint;\n                console.log(`  ${color}: ${hint}`);\n            }\n        });\n        \n        if (Object.keys(colorHints).length < 4) {\n            console.log('âŒ æœªæ‰¾åˆ°è¶³å¤Ÿçš„åˆ†ç»„æç¤º');\n            return null;\n        }\n        \n        // 4. æŸ¥æ‰¾ç­”æ¡ˆåŒºåŸŸï¼šä»What is the answer to Connections todayåˆ°Don't feel down...\n        console.log('\\nğŸ” æ­¥éª¤3: æŸ¥æ‰¾ç­”æ¡ˆåŒºåŸŸ...');\n        \n        const answerSectionPattern = /What is the answer to Connections today([\\s\\S]*?)Don't feel down/i;\n        const answerSectionMatch = html.match(answerSectionPattern);\n        \n        if (!answerSectionMatch) {\n            console.log('âŒ æœªæ‰¾åˆ°ç­”æ¡ˆåŒºåŸŸ');\n            return null;\n        }\n        \n        const answerSection = answerSectionMatch[1];\n        console.log('âœ… æ‰¾åˆ°ç­”æ¡ˆåŒºåŸŸ');\n        console.log('ç­”æ¡ˆåŒºåŸŸå†…å®¹ (å‰300å­—ç¬¦):', answerSection.substring(0, 300));\n        \n        // 5. åŸºäºåˆ†ç»„åç§°è§£ææ¯ç»„çš„4ä¸ªå•è¯\n        console.log('\\nğŸ” æ­¥éª¤4: è§£ææ¯ç»„çš„4ä¸ªå•è¯...');\n        \n        const groups = [];\n        const difficulties = ['yellow', 'green', 'blue', 'purple'];\n        \n        // æ–¹æ³•A: æŸ¥æ‰¾å†’å·åˆ†éš”çš„æ ¼å¼\n        for (let i = 0; i < colors.length; i++) {\n            const color = colors[i];\n            const difficulty = difficulties[i];\n            const hint = colorHints[color];\n            \n            // åœ¨ç­”æ¡ˆåŒºåŸŸæŸ¥æ‰¾è¿™ä¸ªé¢œè‰²çš„å•è¯\n            const colorWordPatterns = [\n                // æ ¼å¼1: Yellow: WORD1, WORD2, WORD3, WORD4\n                new RegExp(`${color}[^:]*:([^\\n]*?)(?=${colors.join('|')}|$)`, 'i'),\n                // æ ¼å¼2: æŸ¥æ‰¾æç¤ºåçš„å•è¯\n                new RegExp(`${hint.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&')}[^:]*:?([^\\n]*?)(?=${colors.join('|')}|$)`, 'i')\n            ];\n            \n            let words = [];\n            \n            for (const pattern of colorWordPatterns) {\n                const match = answerSection.match(pattern);\n                if (match) {\n                    const wordsText = match[1].trim();\n                    console.log(`  ${color} åŸå§‹æ–‡æœ¬: \"${wordsText}\"`);\n                    \n                    // æå–å•è¯\n                    words = extractWordsFromAnswerText(wordsText);\n                    if (words.length >= 4) {\n                        console.log(`  ${color} æå–å•è¯: ${words.slice(0, 4).join(', ')}`);\n                        break;\n                    }\n                }\n            }\n            \n            if (words.length >= 4) {\n                groups.push({\n                    theme: hint,\n                    words: words.slice(0, 4),\n                    difficulty: difficulty,\n                    hint: hint\n                });\n            } else {\n                console.log(`  âŒ ${color} æœªæ‰¾åˆ°è¶³å¤Ÿçš„å•è¯ (æ‰¾åˆ° ${words.length} ä¸ª)`);\n            }\n        }\n        \n        // æ–¹æ³•B: å¦‚æœæ–¹æ³•Aå¤±è´¥ï¼Œå°è¯•æŸ¥æ‰¾æ‰€æœ‰å¤§å†™å•è¯å¹¶æŒ‰é¡ºåºåˆ†ç»„\n        if (groups.length < 4) {\n            console.log('\\nğŸ”„ å°è¯•å¤‡ç”¨æ–¹æ³•: æŒ‰é¡ºåºåˆ†ç»„æ‰€æœ‰å•è¯...');\n            \n            const allWords = extractAllWordsFromAnswerSection(answerSection);\n            console.log(`æ‰¾åˆ° ${allWords.length} ä¸ªå€™é€‰å•è¯:`, allWords.slice(0, 20).join(', '));\n            \n            if (allWords.length >= 16) {\n                groups.length = 0; // æ¸…ç©ºä¹‹å‰çš„ç»“æœ\n                \n                for (let i = 0; i < 4; i++) {\n                    const color = colors[i];\n                    const difficulty = difficulties[i];\n                    const hint = colorHints[color];\n                    const words = allWords.slice(i * 4, (i + 1) * 4);\n                    \n                    groups.push({\n                        theme: hint,\n                        words: words,\n                        difficulty: difficulty,\n                        hint: hint\n                    });\n                }\n                \n                console.log('âœ… ä½¿ç”¨å¤‡ç”¨æ–¹æ³•æˆåŠŸåˆ†ç»„');\n            }\n        }\n        \n        if (groups.length === 4) {\n            console.log('\\nğŸ‰ æˆåŠŸè§£æ4ä¸ªåˆ†ç»„!');\n            return {\n                date: dateStr,\n                words: groups.flatMap(g => g.words),\n                groups: groups,\n                source: 'Mashable (Successful Method)'\n            };\n        } else {\n            console.log(`\\nâŒ åªè§£æå‡º ${groups.length} ä¸ªåˆ†ç»„ï¼Œéœ€è¦4ä¸ª`);\n            return null;\n        }\n        \n    } catch (error) {\n        console.error('è§£æé”™è¯¯:', error);\n        return null;\n    }\n}\n\n// ä»ç­”æ¡ˆæ–‡æœ¬ä¸­æå–å•è¯\nfunction extractWordsFromAnswerText(text) {\n    if (!text) return [];\n    \n    // æ¸…ç†HTMLæ ‡ç­¾\n    const cleanText = text.replace(/<[^>]*>/g, ' ');\n    \n    // å¤šç§å•è¯æå–æ¨¡å¼\n    const patterns = [\n        // é€—å·åˆ†éš”çš„å•è¯\n        /([A-Z][A-Z0-9\\-']*),\\s*([A-Z][A-Z0-9\\-']*),\\s*([A-Z][A-Z0-9\\-']*),\\s*([A-Z][A-Z0-9\\-']*)/g,\n        // ç©ºæ ¼åˆ†éš”çš„å¤§å†™å•è¯\n        /\\b[A-Z][A-Z0-9\\-']*\\b/g\n    ];\n    \n    let words = [];\n    \n    // å°è¯•é€—å·åˆ†éš”æ ¼å¼\n    const commaMatch = cleanText.match(patterns[0]);\n    if (commaMatch) {\n        const match = commaMatch[0].match(/[A-Z][A-Z0-9\\-']*/g);\n        if (match && match.length >= 4) {\n            words = match.slice(0, 4);\n        }\n    }\n    \n    // å¦‚æœé€—å·åˆ†éš”å¤±è´¥ï¼Œå°è¯•æå–æ‰€æœ‰å¤§å†™å•è¯\n    if (words.length < 4) {\n        const allMatches = cleanText.match(patterns[1]) || [];\n        words = allMatches\n            .filter(word => word.length >= 2 && word.length <= 15)\n            .filter(word => !/^(THE|AND|OR|OF|TO|IN|FOR|WITH|ON|AT|BY|FROM)$/.test(word))\n            .slice(0, 4);\n    }\n    \n    return words.map(word => word.trim().toUpperCase());\n}\n\n// ä»ç­”æ¡ˆåŒºåŸŸæå–æ‰€æœ‰å•è¯\nfunction extractAllWordsFromAnswerSection(text) {\n    const cleanText = text.replace(/<[^>]*>/g, ' ');\n    \n    const words = cleanText.match(/\\b[A-Z][A-Z0-9\\-']*\\b/g) || [];\n    \n    return words\n        .filter(word => word.length >= 2 && word.length <= 15)\n        .filter(word => {\n            const excludeWords = [\n                'THE', 'AND', 'OR', 'OF', 'TO', 'IN', 'FOR', 'WITH', 'ON', 'AT', 'BY', 'FROM',\n                'YELLOW', 'GREEN', 'BLUE', 'PURPLE', 'CONNECTIONS', 'ANSWER', 'TODAY'\n            ];\n            return !excludeWords.includes(word);\n        })\n        .filter((word, index, arr) => arr.indexOf(word) === index) // å»é‡\n        .slice(0, 20);\n}\n\n// è¿è¡Œä¿®å¤æµ‹è¯•\nconsole.log('ğŸš€ å¯åŠ¨scheduled.jsè§£æé€»è¾‘ä¿®å¤æµ‹è¯•...\\n');\nfixScheduledParsing().then(result => {\n    console.log('\\n' + '='.repeat(50));\n    if (result) {\n        console.log('ğŸ‰ ä¿®å¤æˆåŠŸ!');\n        console.log('âœ… åŸºäºæˆåŠŸæ–¹æ³•çš„è§£æé€»è¾‘å·¥ä½œæ­£å¸¸');\n        console.log('ğŸ“Š å¯ä»¥ç”¨è¿™ä¸ªé€»è¾‘æ›´æ–°scheduled.jså’Œrefresh.js');\n    } else {\n        console.log('âŒ ä¿®å¤å¤±è´¥');\n        console.log('ğŸ” éœ€è¦è¿›ä¸€æ­¥è°ƒè¯•æˆ–è°ƒæ•´è§£æé€»è¾‘');\n    }\n    console.log('æµ‹è¯•ç»“æŸ:', new Date().toLocaleString());\n});"